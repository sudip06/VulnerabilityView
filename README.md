## Webservice in golang to handle customer queries ##

This project implements a webserver in golang which filters http queries on 
software vulnerabilities based on 3 parameters: recent, severity and maximum number
of vulnerabilities to be reported. It returns the user the results of the query. 
The webserver also handles invalid values of the above parameters of date, 
severity(example: below 0 or above 19) and limit number(example: below 0 or 
above 19999).

The webserver listens to port 8080 and is deployed at 
http://app-93cb3911-9151-4c45-972e-6970f5de723e.cleverapps.io/api <br />
The webserver returns the results in json format to the user.



### Source code ###

The complete source code along with test test file can be downloaded by the command:
"git clone https://github.com/sudip06/VulnerabilityView.git" 



### Installing ###

The file Vulnerability.go has to be built and run for the webserver to be 
up and responsive to user queries. The webserver listens and responds to queries 
at the mount-point/api address and returns back the results to the user.

#### Query parameters: ####
3 parameters are accepted namely "severity_at_least", "since" and "limit".
The maximum severity in vulns.json file is observed to be 9. However, the maximum 
severity accepted in query has been kept at 19 keeping in mind future enhancements.
Similarly, currently number of records are 10000, The maximum limits accepted
in query are 19999.
The parameter "since" accepts the format "YYYY-MM-DD". 

The query handles invalid values of entries such as -ve/invalid(float inputs) for 
limits and severity. Valid values of 'limit' parameter is accepted between 1 and 19999.
Valid values of 'severity' parameter is accepted between 0 and 19.



#### Testing ####
Tests have been performed through browser and as well by using curl command on linux machine.
##### POST method test: #####
curl -d "severity_at_least=0&since=2017-05-15&limit=2" http://app-93cb3911-9151-4c45-972e-6970f5de723e.cleverapps.io/api <br />
[{"id":29,"severity":3,"title":"UmbrellaCorp unleashing virus","date_reported":"2017-05-16"},{"id":350,"severity":3,"title":"Android - An elevation of privilege vulnerability in Wi-Fi could enable a local malicious application to delete user data","date_reported":"2017-05-15"}]

##### GET method test: #####
curl -X GET 'http://app-93cb3911-9151-4c45-972e-6970f5de723e.cleverapps.io/api?severity_at_least=9&since=2015-05-15&limit=2' <br />
[{"id":1,"severity":9,"title":"Multiple cross-site scripting (XSS) vulnerabilities in AbleSpace 1.0","date_reported":"2016-07-04"},{"id":41,"severity":9,"title":"Multiple PHP remote file inclusion vulnerabilities in GoSamba","date_reported":"2016-08-21"}]

##### Browser test #####
Paste onto browser the following address:http://app-93cb3911-9151-4c45-972e-6970f5de723e.cleverapps.io/api?severity_at_least=9&since=2015-05-15&limit=2 <br />

Results on the browser: <br />
[{"id":1,"severity":9,"title":"Multiple cross-site scripting (XSS) vulnerabilities in AbleSpace 1.0","date_reported":"2016-07-04"},{"id":41,"severity":9,"title":"Multiple PHP remote file inclusion vulnerabilities in GoSamba","date_reported":"2016-08-21"}]


##### More example: #####
Some more examples of valid queries are provided below: <br />
curl -X GET 'http://app-93cb3911-9151-4c45-972e-6970f5de723e.cleverapps.io/api?severity_at_least=9>'<br />
curl -X GET 'http://app-93cb3911-9151-4c45-972e-6970f5de723e.cleverapps.io/api?since=2015-06-02>'<br />
curl -X GET 'http://app-93cb3911-9151-4c45-972e-6970f5de723e.cleverapps.io/api?since=2015-06-02&limit=10>'<br />


##### Error tests: #####
###### Invalid query string: ######
curl -X GET 'http://app-93cb3911-9151-4c45-972e-6970f5de723e.cleverapps.io/api?testparameter=9' <br />
Invalid parameters passed

###### Out of range parameter ######
Negetive parameter passed: 
curl -X GET 'http://app-93cb3911-9151-4c45-972e-6970f5de723e.cleverapps.io/api?severity_at_least=-4&since=2015-05-15&limit=2' <br />
Invalid parameters passed



#### Known issues #####
1. Load testing and web server strengthening for fraudulent attacks. Care should be 
taken for different kinds of browser attacks which has not been implemented as of now.
2. Currently all error messages for invalid queries are provided as "Invalid parameters passed".
More meaningful debug statements should be provided for different errors.
3. The first entry in vluns.json does not contain "id":0. I have proceeded
and considered it as "id":0.



#### Deployment ####
The webserver can be accessed at http://app-93cb3911-9151-4c45-972e-6970f5de723e.cleverapps.io/api and queries 
can be executed in the following below on the browser: <br />
Example query: <br />
http://app-93cb3911-9151-4c45-972e-6970f5de723e.cleverapps.io/api?severity_at_least=7&since=2015-06-02&limit=10



#### Authors #####

    Sudip Midya - Initial Work


